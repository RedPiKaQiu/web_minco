# 任务类型与任务类别详细解析

## 概述

在 MinCo 任务管理系统中，我们使用两个不同的字段来描述任务的特性：**任务类别 (category)** 和 **任务类型 (type)**。这两个概念虽然相关，但在设计目的、使用场景和数据结构上有着重要区别。

## 任务类别 (Category)

### 定义
任务类别是一个**枚举类型**字段，用于对任务进行高级别的生活领域分类。

### 数据结构
```typescript
enum TaskCategory {
  LIFE = 'LIFE',       // 生活 🏠
  HEALTH = 'HEALTH',   // 健康 💪
  WORK = 'WORK',       // 工作 💼
  STUDY = 'STUDY',     // 学习 📚
  RELAX = 'RELAX',     // 放松 🎮
  EXPLORE = 'EXPLORE'  // 探索 🔍
}
```

### 特点
- **固定选项**：只有 6 个预定义的类别
- **生活领域**：按照生活的主要维度进行划分
- **管理导向**：主要用于任务的整体管理和统计分析

### 使用场景
1. **项目页面分组**：按类别对任务进行分组显示
2. **统计分析**：生成各生活领域的任务完成情况报告
3. **过滤筛选**：快速筛选特定生活领域的任务
4. **平衡监控**：帮助用户平衡不同生活领域的时间投入

### 图标映射
每个类别都有对应的emoji图标：
- LIFE 🏠 - 代表日常生活
- HEALTH 💪 - 代表健康管理
- WORK 💼 - 代表工作职场
- STUDY 📚 - 代表学习成长
- RELAX 🎮 - 代表休闲娱乐
- EXPLORE 🔍 - 代表探索发现

## 任务类型 (Type)

### 定义
任务类型是一个**字符串类型**字段，用于描述任务的具体性质或执行方式。

### 数据结构
```typescript
type TaskType = string; // 灵活的字符串类型
```

### 特点
- **灵活多样**：可以是任意字符串，不受预定义选项限制
- **具体描述**：描述任务的具体性质或执行方法
- **执行导向**：主要用于任务的具体执行和个性化推荐

### 分类方式

#### 1. 固定性质类型
描述任务的执行特征：
- **例行** - 定期重复的任务
- **杂务** - 零散的日常事务
- **活动** - 特定的活动事件
- **想法** - 创意或思考类任务

#### 2. 具体类型映射
按类别细分的具体类型：

**工作类 (WORK)**
- 会议 💼 - 各种会议和讨论
- 编程 💻 - 代码开发和编程
- 设计 🎨 - 设计和创意工作

**学习类 (STUDY)**
- 阅读 📖 - 阅读书籍文章
- 学习 📚 - 学习新知识技能
- 练习 ✏️ - 练习和实操

**生活类 (LIFE)**
- 购物 🛒 - 购买生活用品
- 做饭 🍳 - 烹饪和料理
- 清洁 🧹 - 清洁和整理

**健康类 (HEALTH)**
- 运动 🏃‍♂️ - 体育运动
- 健身 💪 - 健身锻炼
- 跑步 🏃 - 跑步有氧

**放松类 (RELAX)**
- 游戏 🎮 - 游戏娱乐
- 电影 🎬 - 观看影视
- 音乐 🎵 - 音乐欣赏

**探索类 (EXPLORE)**
- 研究 🔍 - 深入研究
- 调查 🕵️‍♂️ - 调查了解
- 实验 🧪 - 实验尝试

### 使用场景
1. **图标选择**：为任务选择最合适的图标
2. **AI推荐**：基于任务类型提供个性化建议
3. **任务描述**：提供更精确的任务描述
4. **用户体验**：增强任务的可识别性和个性化

## 两者关系

### 层级关系
```
任务类别 (Category) - 宏观生活领域 - "属于哪个生活维度？"
    ↓
任务类型 (Type) - 具体执行性质 - "具体是什么类型的行动？"
```

### 实际应用示例

#### 示例 1：工作任务
- **Category**: WORK 💼
- **Type**: "会议"
- **最终图标**: 💼 (来自type的具体映射)

#### 示例 2：学习任务
- **Category**: STUDY 📚
- **Type**: "阅读"
- **最终图标**: 📖 (来自type的具体映射)

#### 示例 3：自定义任务
- **Category**: LIFE 🏠
- **Type**: "遛狗" (自定义类型)
- **最终图标**: 🏠 (fallback到category图标)

## 图标优先级系统

系统使用4级优先级来确定任务图标：

```typescript
function getTaskIcon(task: Task): string {
  // 1. 自定义图标 (最高优先级)
  if (task.icon) return task.icon;
  
  // 2. 任务类型映射图标
  if (task.type && typeIconMap[task.type]) {
    return typeIconMap[task.type];
  }
  
  // 3. 任务类别图标
  if (task.category && categoryIconMap[task.category]) {
    return categoryIconMap[task.category];
  }
  
  // 4. 默认图标 (最低优先级)
  return '📌';
}
```

## 设计优势

### 灵活性与一致性并存
- **Category** 提供一致的分类框架
- **Type** 提供灵活的个性化描述

### 多层次信息架构
- **宏观层面**：通过category进行生活平衡管理
- **微观层面**：通过type进行精确任务描述

### 用户体验优化
- **直观识别**：通过图标快速识别任务性质
- **个性化**：支持用户自定义任务类型
- **智能推荐**：基于类型提供精准建议

## 开发注意事项

### 数据验证
- Category必须是枚举值之一
- Type可以是任意字符串，但建议使用有意义的描述
- 图标fallback机制确保总有图标显示

### 扩展性
- 新增Category需要修改枚举定义
- 新增Type只需更新映射表
- 保持向后兼容性

### 性能考虑
- Category枚举查询性能更好
- Type字符串匹配需要优化
- 图标映射使用Object查找，O(1)复杂度

## 总结

任务类别(Category)和任务类型(Type)共同构成了MinCo任务管理系统的双层分类体系：

- **Category**: "在哪个生活领域？" - 管理视角，用于统计和平衡
- **Type**: "具体是什么行动？" - 执行视角，用于描述和推荐

这种设计既保证了分类的一致性和管理效率，又提供了足够的灵活性来满足用户的个性化需求。 